(()=>{"use strict";const e=(e,t,n)=>Array.from({length:t}).map((()=>Array.from({length:e}).fill(0)));function t(e,t,n){const r=`<table border=10px>${t.map(((e,t)=>`<tr>${e.map(((e,n)=>1===e?`<td\n        data-x=${n}\n        data-y=${t}\n        class="cell alive"\n        style="background-color:#03120b; height:40px; width:40px;"></td>`:2===e?`<td \n                      data-x=${n}\n                      data-y=${t}\n                      class="cell shouldDie" \n                      style="background-color:#0000FF; height:40px; width:40px;">\n                  </td>`:`<td\n      data-x=${n}\n      data-y=${t}\n      class="cell dead"\n      style="background-color:#FFFFFF; height:40px; width:40px;"></td>`)).join("")}</tr>`)).join("")}</table>`;e.innerHTML=r;const i=e.querySelector("table");i&&i.addEventListener("click",(e=>{const t=e.target,r=t.getAttribute("data-x"),i=t.getAttribute("data-y");Number(r)>=0&&Number(i)>=0&&n(Number(r),Number(i))}))}function n(e,t,n){const r=e[n];if(void 0===r)return 0;const i=r[t];return void 0===i?0:i}function r(e){return e.map(((t,r)=>t.map(((t,i)=>{const d=function(e,t,r){let i=0;for(let d=e-1;d<=e+1;d+=1)i+=Number(n(r,d,t-1));for(let d=e-1;d<=e+1;d+=1)i+=Number(n(r,d,t+1));return i+=Number(n(r,e-1,t)),i+=Number(n(r,e+1,t)),i}(i,r,e),a=n(e,i,r);var l;return 3===(l=d)?1:l>3||l<2?0:2===l&&1===a?1:0}))))}const i=document.createElement("div");document.body.appendChild(i),function(n=5,i=5,d){let a,l=!1,o=n,u=i;d.innerHTML=`<div class="field-wrapper"></div><button>Start</button></div>\n  <input type='range' id='speedRangeSlider' name='speedRangeSlider' min='0' max='900' value='500' step='100'>\n  <input id='numberX' type='number' min='1' max='50' value=${n} step='5'>\n  <input id='numberY' type='number' min='1' max='50' value=${i} step='5'>\n  <button class='butField'>setFieldSize</button>\n  <br><br>\n <div>Живая клетка<div style="width:10px;height:10px;border:1px solid #03120b; background: #03120b">\n</div></div>\n <div>Мертвая клетка<div style="width:10px;height:10px;border:1px solid #03120b; background: cornsilk">\n</div></div>\n <div>Обреченная на смерть клетка<div style="width:10px;height:10px;border:1px solid #03120b; background: #0000FF">\n</div></div>\n`;let c=1e3;const s=d.querySelector(".field-wrapper"),b=d.querySelector("button"),p=d.querySelector("#speedRangeSlider");let m=e(n,i);const v=(e,n)=>{m[n][e]=Number(!m[n][e]),t(s,m,v)};function g(){l=!1,b.innerHTML="Start",clearInterval(a)}function h(){l=!0,b.innerHTML="Stop",a=setInterval((()=>{const e=JSON.parse(JSON.stringify(m));m=r(e);const n=r(m),i=((e,t)=>{const n=JSON.parse(JSON.stringify(e));return e.forEach(((r,i)=>r.forEach(((r,d)=>{1===e[i][d]&&0===t[i][d]&&(n[i][d]=2)})))),n})(m,n);t(s,i,v),n.toString()===e.toString()&&g(),function(e){for(let t=0;t<e.length;t++){const n=e[t];for(let e=0;e<n.length;e++)if(n[e])return!0}return!1}(m)||(alert("Все клетки погибли"),g())}),c),p.addEventListener("change",(()=>{clearInterval(a);const e=Number(p.value);c=1e3-e,h()}))}t(s,m,v);const y=d.querySelector("#numberX"),f=d.querySelector("#numberY");d.querySelector(".butField")?.addEventListener("click",(()=>{o=Number(y.value),u=Number(f.value),u>=1&&o>=1&&u<=50&&o<=50?(m=e(o,u),t(s,m,v)):alert("Введите число от 1 до 50")})),b.addEventListener("click",(()=>{l?g():h()}))}(10,10,i)})();